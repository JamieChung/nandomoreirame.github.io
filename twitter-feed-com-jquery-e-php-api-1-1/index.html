<!DOCTYPE html><html class="no-js" lang="pt-br" itemscope itemtype="http://schema.org/BlogPosting"><head><meta charset="utf-8"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="google-site-verification" content="zS1dSn20XtA4FJYEOQLXqI0boxZdMnJ2g3beje-cl20"><title> Twitter feed com jQuery e PHP (api 1.1) | Fernando Moreira</title><meta name="description" content=" Hoje vamos criar um box com feed do twitter utilizando a nova api 1.1 com jQuery e PHP. "><meta name="keywords" content="api, jQuery, html, php, twitter"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="theme-color" content="#005344"><meta itemprop="image" content=" http://nandomoreira.me/assets/images/posts/2014/07/twitter-feed-com-jquery-e-php-api-1-1.jpg "> <meta property="fb:admins" content="100003797913346"><meta property="fb:app_id" content="585852118228520"><meta property="og:type" content="article"><meta property="article:author" content="Fernando Moreira"><meta property="article:section" content="php, jquery"><meta property="article:tag" content="api, jQuery, html, php, twitter"><meta property="article:published_time" content="2014-07-29 16:33:00 +0000"><meta property="og:url" content="http://nandomoreira.me/twitter-feed-com-jquery-e-php-api-1-1/"><meta property="og:title" content=" Twitter feed com jQuery e PHP (api 1.1) | Fernando Moreira "><meta property="og:image" content=" http://nandomoreira.me/assets/images/posts/2014/07/twitter-feed-com-jquery-e-php-api-1-1.jpg "><meta property="og:description" content=" Hoje vamos criar um box com feed do twitter utilizando a nova api 1.1 com jQuery e PHP. "><meta property="og:site_name" content="Fernando Moreira"><meta property="og:locale" content="pt_BR"> <meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@nandomoreirame"><meta name="twitter:title" content=" Twitter feed com jQuery e PHP (api 1.1) | Fernando Moreira "><meta name="twitter:description" content=" Hoje vamos criar um box com feed do twitter utilizando a nova api 1.1 com jQuery e PHP. "><meta name="twitter:image:src" content=" http://nandomoreira.me/assets/images/posts/2014/07/twitter-feed-com-jquery-e-php-api-1-1.jpg "> <meta itemprop="name" content=" Twitter feed com jQuery e PHP (api 1.1) | Fernando Moreira "><meta itemprop="description" content=" Hoje vamos criar um box com feed do twitter utilizando a nova api 1.1 com jQuery e PHP. "><meta itemprop="image" content=" http://nandomoreira.me/assets/images/posts/2014/07/twitter-feed-com-jquery-e-php-api-1-1.jpg "><link rel="apple-touch-icon" sizes="57x57" href="/assets/images/ico/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/images/ico/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/images/ico/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/images/ico/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/images/ico/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/images/ico/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/images/ico/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/images/ico/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/images/ico/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/images/ico/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/images/ico/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/images/ico/favicon-16x16.png"><link rel="shortcut icon" href="/assets/images/ico/favicon-16x16.png"><link rel="manifest" href="/assets/images/ico/manifest.jso"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/images/ico/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="/assets/main-d8a7a95d8c85ad1b7d681adc893d7aad.css"> <script src="/assets/modernizr-custom-f107b7598612dd5dee41b91ec615408f.js" data-cfasync="false"></script><link rel="canonical" href="http://nandomoreira.me/twitter-feed-com-jquery-e-php-api-1-1/"><link rel="alternate" type="application/rss+xml" title="Fernando Moreira" href="http://nandomoreira.me/feed.xml"> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Website", "publisher": "nandomoreira.me", "url": "http://nandomoreira.me/", "description": "Desenvolvedor Front-end, Design Responsivo, HTML5, CSS3 e JavaScript" } </script> <script type="text/javascript"> var disqus_shortname = 'fernandomoreira'; var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-52446115-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script><body class="post-template single"><header class="header"> <a href="/"> <img src="/assets/images/author.jpg" alt="author thumb" class="dot author-thumb"> </a><h1 itemscope itemtype="http://schema.org/Person">Olá meu nome é <strong itemprop="name">Fernando Moreira</strong> eu sou <em itemprop="jobTitle">Front-end</em> e gosto muito de café!</h1><nav class="nav"><ul class="navbar"><li><a href="/blog" class="subnav-trigger"><span>Artigos</span></a><li><a href="/about">Sobre</a><li class="search"> <a href="#!" data-modal-search="modalSearch"><i class="fa fa-search"></i> Busca</a></ul></nav></header><main class="wrapper" itemprop="mainContentOfPage"><article role="article" class="post" itemprop="articleBody"><div class="container"><header class="post-header"><h1 class="post-title">Twitter feed com jQuery e PHP (api 1.1)</h1><div class="post-meta"> <time datetime="2014-07-29T16:33:00+00:00" itemprop="datePublished"><meta itemprop="datePublished" content="2014-07-29T16:33:00+00:00"> <i class="fa fa-calendar-o"></i> 29/7/2014 </time> <span> | <i class="fa fa-comments"></i> <a href="/twitter-feed-com-jquery-e-php-api-1-1/#disqus_thread" data-disqus-identifier="/twitter-feed-com-jquery-e-php-api-1-1">Deixe um comentário</a> </span> <span> | <i class="fa fa-folder-open-o"></i> <a href="/categoria/php/">PHP</a>, <a href="/categoria/jquery/">jQuery</a> </span></div></header><figure class="post-thumb"> <a href="/assets/images/posts/2014/07/twitter-feed-com-jquery-e-php-api-1-1.jpg" class="swipebox" rel="gallery" title="Twitter feed com jQuery e PHP (api 1.1)"> <img src="/assets/images/posts/2014/07/twitter-feed-com-jquery-e-php-api-1-1.jpg" alt="Twitter feed com jQuery e PHP (api 1.1)" title="Twitter feed com jQuery e PHP (api 1.1)"> </a></figure><div class="post-content"><p>Hoje vamos criar um box com feed do twitter utilizando a nova <a href="https://dev.twitter.com/docs/platform-objects" target="_blank">api 1.1</a> com jQuery e PHP.<p>Para essa façanha vamos usar a API <a href="http://github.com/j7mbo/twitter-api-php" target="_blank">Twitter-API-PHP</a>, <a href="http://jquery.com/" target="_blank">jQuery</a> e <a href="http://getbootstrap.com/" target="_blank">Bootstrap 3</a>.<p>Primeiramente você precisa criar uma conta de desenvolvedor e criar um app aqui <a href="https://dev.twitter.com/apps/" target="_blank">https://dev.twitter.com/apps/</a><h4 id="configphp">config.php</h4><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Simple PHP Wrapper for Twitter API v1.1 calls</span>
<span class="c1">// https://github.com/J7mbo/twitter-api-php</span>
<span class="k">require_once</span> <span class="s1">&#39;TwitterAPIExchange.php&#39;</span><span class="p">;</span>
<span class="nv">$username</span> <span class="o">=</span> <span class="s1">&#39;nandomoreirame&#39;</span><span class="p">;</span> <span class="c1">// node do usuario</span>
<span class="nv">$count</span>    <span class="o">=</span> <span class="s1">&#39;20&#39;</span><span class="p">;</span> <span class="c1">// numero de tweets que sera exibido</span>
<span class="sd">/** Set access tokens here - see: https://dev.twitter.com/apps/ **/</span>
<span class="nv">$settings</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;oauth_access_token&#39;</span>        <span class="o">=&gt;</span> <span class="nx">TOKEN_DE_ACESSO</span><span class="p">,</span>
    <span class="s1">&#39;oauth_access_token_secret&#39;</span> <span class="o">=&gt;</span> <span class="nx">TOKEN_SECRETO_DE_ACESSO</span><span class="p">,</span>
    <span class="s1">&#39;consumer_key&#39;</span>              <span class="o">=&gt;</span> <span class="nx">CHAVE_DE_CLIENTE</span><span class="p">,</span>
    <span class="s1">&#39;consumer_secret&#39;</span>           <span class="o">=&gt;</span> <span class="nx">CHAVE_SECRETA_DE_CLIENTE</span><span class="s2">&quot;</span>
<span class="s2">);</span>
<span class="s2">/** URL for REST request, see: https://dev.twitter.com/docs/api/1.1/ **/</span>
<span class="si">$url</span><span class="s2"> = &#39;https://api.twitter.com/1.1/statuses/user_timeline.json&#39;;</span>
<span class="si">$requestMethod</span><span class="s2"> = &#39;GET&#39;;</span>
<span class="si">$getfield</span><span class="s2"> = &#39;?username=&#39;.</span><span class="si">$username</span><span class="s2">.&#39;&amp;count=&#39;.</span><span class="si">$count</span><span class="s2">;</span>
<span class="s2">?&gt;</span></code></pre></div><h4 id="functionsphp">functions.php</h4><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">twitter_feed</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">global</span> <span class="nv">$url</span><span class="p">,</span> <span class="nv">$settings</span><span class="p">,</span> <span class="nv">$requestMethod</span><span class="p">,</span> <span class="nv">$getfield</span><span class="p">;</span>
    <span class="nv">$twitter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TwitterAPIExchange</span><span class="p">(</span><span class="nv">$settings</span><span class="p">);</span>
    <span class="nv">$tw_data</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$twitter</span><span class="o">-&gt;</span><span class="na">setGetfield</span><span class="p">(</span><span class="nv">$getfield</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">buildOauth</span><span class="p">(</span><span class="nv">$url</span><span class="p">,</span> <span class="nv">$requestMethod</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">performRequest</span><span class="p">(),</span> <span class="k">true</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nv">$tw_data</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$tw_data</span><span class="p">[</span><span class="s2">&quot;errors&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;message&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">&quot;&lt;h3&gt;Desculpe, ocorreu um problema.&lt;/h3&gt;&lt;p&gt;Twitter retornou a seguinte mensagem de erro:&lt;/p&gt;&lt;p&gt;&lt;em&gt;&quot;</span><span class="o">.</span><span class="nv">$tw_data</span><span class="p">[</span><span class="nx">errors</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="s2">&quot;&lt;/em&gt;&lt;/p&gt;&quot;</span><span class="p">;</span>
            <span class="k">exit</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="nv">$twt_data</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="nv">$tw_data</span> <span class="k">as</span> <span class="nv">$i</span> <span class="o">=&gt;</span> <span class="nv">$tw</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nv">$twt_data</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;date&#39;</span><span class="p">]</span>           <span class="o">=</span> <span class="nx">twitter_date_format</span><span class="p">(</span><span class="nv">$tw</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]);</span>
                <span class="nv">$twt_data</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>             <span class="o">=</span> <span class="nv">$tw</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">];</span>
                <span class="nv">$twt_data</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;avatar&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="nv">$tw</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">][</span><span class="s1">&#39;profile_image_url&#39;</span><span class="p">];</span>
                <span class="nv">$twt_data</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;user&#39;</span><span class="p">]</span>           <span class="o">=</span> <span class="nv">$tw</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">][</span><span class="s1">&#39;screen_name&#39;</span><span class="p">];</span>
                <span class="nv">$twt_data</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">]</span>           <span class="o">=</span> <span class="nv">$tw</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">];</span>
                <span class="nv">$twt_data</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;favorite_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$tw</span><span class="p">[</span><span class="s1">&#39;favorite_count&#39;</span><span class="p">];</span>
                <span class="nv">$twt_data</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="s1">&#39;retweet_count&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="nv">$tw</span><span class="p">[</span><span class="s1">&#39;retweet_count&#39;</span><span class="p">];</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nv">$twt_data</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">die</span><span class="p">(</span><span class="s1">&#39;Problema: O twitter nao retornou nada.&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">function</span> <span class="nf">twitter_date_format</span><span class="p">(</span><span class="nv">$date</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// get current timestampt</span>
    <span class="nv">$current</span> <span class="o">=</span> <span class="nb">strtotime</span><span class="p">(</span><span class="s2">&quot;now&quot;</span><span class="p">);</span>
    <span class="c1">// get timestamp when tweet created</span>
    <span class="nv">$date</span> <span class="o">=</span> <span class="nb">strtotime</span><span class="p">(</span><span class="nv">$date</span><span class="p">);</span>
    <span class="c1">// get difference</span>
    <span class="nv">$new_date</span> <span class="o">=</span> <span class="nv">$current</span> <span class="o">-</span> <span class="nv">$date</span><span class="p">;</span>
    <span class="c1">// calculate different time values</span>
    <span class="nv">$minute</span> <span class="o">=</span> <span class="mi">60</span><span class="p">;</span>
    <span class="nv">$hour</span>   <span class="o">=</span> <span class="nv">$minute</span> <span class="o">*</span> <span class="mi">60</span><span class="p">;</span>
    <span class="nv">$day</span>    <span class="o">=</span> <span class="nv">$hour</span> <span class="o">*</span> <span class="mi">24</span><span class="p">;</span>
    <span class="nv">$week</span>   <span class="o">=</span> <span class="nv">$day</span> <span class="o">*</span> <span class="mi">7</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">is_numeric</span><span class="p">(</span><span class="nv">$new_date</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nv">$new_date</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// if less then 3 seconds</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;agora mesmo&quot;</span><span class="p">;</span>
        <span class="c1">// if less then minute</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="nv">$minute</span><span class="p">)</span> <span class="k">return</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$new_date</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot; segundos atrás&quot;</span><span class="p">;</span>
        <span class="c1">// if less then 2 minutes</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="nv">$minute</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;cerca de 1 minuto atrás&quot;</span><span class="p">;</span>
        <span class="c1">// if less then hour</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="nv">$hour</span><span class="p">)</span> <span class="k">return</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">/</span> <span class="nv">$minute</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot; minutos atrás&quot;</span><span class="p">;</span>
        <span class="c1">// if less then 2 hours</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="nv">$hour</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;cerca de 1 hora atrás&quot;</span><span class="p">;</span>
        <span class="c1">// if less then day</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="nv">$day</span><span class="p">)</span> <span class="k">return</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">/</span> <span class="nv">$hour</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot; horas atrás&quot;</span><span class="p">;</span>
        <span class="c1">// if more then day, but less then 2 days</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&gt;</span> <span class="nv">$day</span> <span class="o">&amp;&amp;</span> <span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="nv">$day</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;ontem&quot;</span><span class="p">;</span>
        <span class="c1">// if less then year</span>
        <span class="k">if</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">&lt;</span> <span class="nv">$day</span> <span class="o">*</span> <span class="mi">365</span><span class="p">)</span> <span class="k">return</span> <span class="nb">floor</span><span class="p">(</span><span class="nv">$new_date</span> <span class="o">/</span> <span class="nv">$day</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot; dias atrás&quot;</span><span class="p">;</span>
        <span class="c1">// else return more than a year</span>
        <span class="k">return</span> <span class="s2">&quot;mais de um ano atrás&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div><h4 id="o-html">O HTML</h4><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;aside</span> <span class="na">class=</span><span class="s">&quot;tweets-box&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;tweets-header&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h3&gt;</span>Tweets<span class="nt">&lt;/h3&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;tweets&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;text-center&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;images/loader.gif&quot;</span> <span class="na">height=</span><span class="s">&quot;11&quot;</span> <span class="na">width=</span><span class="s">&quot;43&quot;</span> <span class="na">alt=</span><span class="s">&quot;loader&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/aside&gt;</span></code></pre></div><h4 id="ajax-tweetsphp">ajax-tweets.php</h4><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">include</span> <span class="s1">&#39;config.php&#39;</span><span class="p">;</span>
<span class="k">include</span> <span class="s1">&#39;functions.php&#39;</span><span class="p">;</span>
<span class="nv">$tweets</span> <span class="o">=</span> <span class="nx">twitter_feed</span><span class="p">();</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$tweets</span><span class="p">);</span>
<span class="k">die</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span></code></pre></div><h4 id="o-javascript">O Javascript</h4><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">load</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">tweets</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#tweets&quot;</span><span class="p">),</span>
    <span class="nx">html</span>   <span class="o">=</span> <span class="s1">&#39;&lt;ul class=&quot;media-list&quot;&gt;&#39;</span><span class="p">;</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;./ajax-tweets.php&quot;</span><span class="p">,</span>
      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">tweet</span> <span class="p">)</span>
      <span class="p">{</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;li class=&quot;media&quot;&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;a class=&quot;pull-left&quot; href=&quot;http://twitter.com/&#39;</span><span class="o">+</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">user</span><span class="o">+</span><span class="s1">&#39;&quot; target=&quot;_blank&quot;&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;img src=&quot;&#39;</span><span class="o">+</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">avatar</span><span class="o">+</span><span class="s1">&#39;&quot; alt=&quot;Foto do perfil de &#39;</span><span class="o">+</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">user</span><span class="o">+</span><span class="s1">&#39;&quot; class=&quot;img-circle&quot;&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;div class=&quot;media-body&quot;&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;h4 class=&quot;media-heading&quot;&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;a href=&quot;http://twitter.com/&#39;</span><span class="o">+</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">user</span><span class="o">+</span><span class="s1">&#39;&quot; target=&quot;_blank&quot;&gt;@&#39;</span><span class="o">+</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">user</span><span class="o">+</span><span class="s1">&#39;&lt;/a&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;small&gt;&#39;</span><span class="o">+</span><span class="nx">tweet</span><span class="p">.</span><span class="nx">date</span><span class="o">+</span><span class="s1">&#39;&lt;/small&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/h4&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;p&gt;&#39;</span><span class="o">+</span> <span class="nx">tweet</span><span class="p">.</span><span class="nx">text</span> <span class="o">+</span><span class="s1">&#39;&lt;/p&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/div&gt;&#39;</span><span class="p">;</span>
        <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/li&gt;&#39;</span><span class="p">;</span>
      <span class="p">});</span>
      <span class="nx">html</span> <span class="o">+=</span> <span class="s1">&#39;&lt;/ul&gt;&#39;</span><span class="p">;</span>
      <span class="nx">tweets</span><span class="p">.</span><span class="nx">animate</span><span class="p">({</span> <span class="s1">&#39;height&#39;</span><span class="o">:</span><span class="s1">&#39;300px&#39;</span> <span class="p">},</span> <span class="mi">200</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">})(</span><span class="nx">jQuery</span><span class="p">);</span></code></pre></div><h4 id="o-css">O CSS</h4><div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.tweets-box</span> <span class="p">{</span>
  <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="m">0px</span> <span class="m">2px</span> <span class="m">2px</span> <span class="m">#ccc</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="k">margin</span><span class="o">:</span> <span class="m">0</span> <span class="k">auto</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">3px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tweets-box</span> <span class="nc">.tweets-header</span> <span class="p">{</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">20px</span> <span class="m">20px</span> <span class="m">10px</span><span class="p">;</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#eee</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tweets-box</span> <span class="nc">.tweets-header</span> <span class="nt">h3</span> <span class="p">{</span>
  <span class="k">margin-top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tweets-box</span> <span class="nf">#tweets</span> <span class="p">{</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="k">overflow-x</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span>
  <span class="k">max-height</span><span class="o">:</span> <span class="m">300px</span><span class="p">;</span>
  <span class="k">overflow-y</span><span class="o">:</span> <span class="k">auto</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tweets-box</span> <span class="nf">#tweets</span> <span class="nc">.media</span> <span class="p">{</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
  <span class="k">margin-bottom</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
  <span class="k">border-bottom</span><span class="o">:</span> <span class="m">1px</span> <span class="k">solid</span> <span class="m">#eee</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tweets-box</span> <span class="nf">#tweets</span> <span class="nc">.media</span> <span class="nc">.media-heading</span> <span class="p">{</span>
  <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
  <span class="k">margin-bottom</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.tweets-box</span> <span class="nf">#tweets</span> <span class="nc">.media</span> <span class="nc">.media-heading</span> <span class="nt">small</span> <span class="p">{</span>
  <span class="k">font-size</span><span class="o">:</span> <span class="m">12px</span><span class="p">;</span>
  <span class="k">font-style</span><span class="o">:</span> <span class="k">italic</span><span class="p">;</span>
  <span class="k">margin-left</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span></code></pre></div><p>E é isso ai, os arquivos estão no repositório do Github e os links logo abaixo para download.<table><tbody><tr><td><a href="https://github.com/nandomoreirame/Twitter-feed-com-jQuery-e-PHP-api-1.1-">Repositório no Github</a><td><a href="https://github.com/nandomoreirame/Twitter-feed-com-jQuery-e-PHP-api-1.1-/archive/master.zip">Download</a></table><p>Boa programação e enjoy!</div></div><footer class="post-footer"><div class="container"><section class="author"> <img src="/assets/images/author.jpg" alt="author thumb" class="dot author-thumb"><h4>Fernando Moreira</h4><p>Desenvolvedor Front-end entusiasta de performance, design responsivo e usabilidade, sempre em busca do melhor projeto e de um bom café.</section><aside class="share"><h4>Compartilhe.</h4><a class="share-twitter" href="http://twitter.com/share?text=Twitter feed com jQuery e PHP (api 1.1)&amp;url=http://nandomoreira.me/twitter-feed-com-jquery-e-php-api-1-1/&amp;hashtags=web,dev,blog,soudev&amp;via=nandomoreirame" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"> <i class="fa fa-twitter-square"></i> </a> <a class="share-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://nandomoreira.me/twitter-feed-com-jquery-e-php-api-1-1/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"> <i class="fa fa-facebook-square"></i> </a></aside></div></footer><aside id="comments" class="disqus"><div class="container-full"><h3><i class="fa fa-comments"></i> Comentários</h3><hr><div id="disqus_thread"></div><script type="text/javascript"> var disqus_identifier = '/twitter-feed-com-jquery-e-php-api-1-1'; var disqus_title = 'Twitter feed com jQuery e PHP (api 1.1)'; var disqus_url = 'http://nandomoreira.me'; /*var disqus_developer = 1;*/ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> <noscript> Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a> </noscript></div></aside></article></main><footer class="footer"><ul class="social"><li> <a href="http://github.com/nandomoreirame" class="icon-github" target="_blank"> <i class="fa fa-github"></i> </a><li> <a href="http://twitter.com/nandomoreirame" class="icon-twitter" target="_blank"> <i class="fa fa-twitter"></i> </a><li> <a href="http://linkedin.com/in/nandomoreirame" class="icon-linkedin" target="_blank"> <i class="fa fa-linkedin"></i> </a><li> <a href="/feed.xml" target="_blank"><i class="fa fa-feed"></i></a></ul><span> Feito com <a href="http://jekyllrb.com" target="_blank">Jekyll</a> • <a href="http://github.com/nandomoreirame/nandomoreirame.github.io" target="_blank">Open source <i class="fa fa-heart"></i></a> </span></footer><a class="scroll-up fa fa-chevron-up bounce" href="#" data-position="0"></a><div id="modalSearch" class="modal-search"><div class="modal-search__overlay"></div><div class="modal-search__content"> <a href="#!" class="modal-search-close" data-modal-close>&times;</a><div class="modal-search-container"> <input type="text" id="modal-search-input" placeholder="#"><ul id="search-results-container"></ul></div></div></div><script src="/assets/main-9ac95fd192ff9afb27abc7e0e70d5f91.js"></script>
